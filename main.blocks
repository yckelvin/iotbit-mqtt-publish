<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="US2yG]X+:]ulWon=wkO5">light_level</variable><variable id="wNno3}K]j@v$Y3jkkYSf">client_id</variable></variables><block type="pxt-on-start" id="A;xwaJRb:t([DDfgj=Hf" x="0" y="0"><statement name="HANDLER"><block type="device_show_number" id="n0wel(IdSxA(H(=Ew4}0"><value name="number"><shadow type="math_number" id="1fq-=Tl,C%:,9CF2)~[K"><field name="NUM">0</field></shadow></value><next><block type="ESP8266_IoT_initWIFI" id="Aq:P:Q~RBaMP=2oPVLHJ"><field name="tx">SerialPin.P8</field><field name="rx">SerialPin.P12</field><field name="baudrate">BaudRate.BaudRate115200</field><next><block type="ESP8266_IoT_connectWifi" id="MTY+B!f{8j,6Bp1ZkMyM"><value name="ssid"><shadow type="text" id="gELK4dD]LEy=NWA{8?)0"><field name="TEXT">ssid</field></shadow></value><value name="pw"><shadow type="text" id="S@PI^gRR~W7_TkesHXSP"><field name="TEXT">password</field></shadow></value><next><block type="device_show_number" id="t:bxG,A(v4Z)$%rhoVbb"><value name="number"><shadow type="math_number" id="(.F#*bMCRowxhFqz3Sj:"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="Xp3PNM|te1175(v[`Q)6"><field name="VAR" id="wNno3}K]j@v$Y3jkkYSf">client_id</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_random" id="GAf8N1GSxSCE~U(SQ6:-"><value name="min"><shadow type="math_number" id="IK7oz{B}mC}5dD`_y.Sd"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="2(kN1mB,MLsR)vgc~Mmm"><field name="NUM">99999999</field></shadow></value></block></value><next><block type="initMQTT" id="ML=v;:uHLYfySYbV1GNO"><field name="scheme">ESP8266_IoT.SchemeList.TCP</field><value name="clientID"><block type="variable_to_text" id="vF*s(30vyx83acy(@x|m"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="rkW(qUr^rA$l;TbE;IlA"><field name="VAR" id="wNno3}K]j@v$Y3jkkYSf">client_id</field></block></value></block></value><value name="username"><shadow type="text" id="J^{eZ#L^IN4(K}=+m#nj"><field name="TEXT">test</field></shadow></value><value name="password"><shadow type="text" id="}C#l^z[217nI~CK_KkOe"><field name="TEXT">test</field></shadow></value><value name="path"><shadow type="text" id="#:LHewWno[:?9Gpw+bF0"><field name="TEXT"></field></shadow></value><next><block type="connectMQTT" id="fWI^:qD*X_LDl{u$|()@"><value name="host"><shadow type="text" id="1g=1BEJR6CJL_4J*~C%#"><field name="TEXT">10.30.1.61</field></shadow></value><value name="port"><shadow type="math_number" id="#~c.gJhaspoqia(WoxH8"><field name="NUM">1884</field></shadow></value><value name="reconnect"><shadow type="logic_boolean" id="#Bxn[IHY7VB]I$ADyK~s"><field name="BOOL">FALSE</field></shadow></value><next><block type="device_show_number" id="J:SZDA,8M2kfm=zqqlGX"><value name="number"><shadow type="math_number" id="/ND=nHN-ZwHt#Y8(])!("><field name="NUM">2</field></shadow></value><next><block type="OLED_init" id="uKd;=utthTn=RV?TDgkO"><value name="width"><shadow type="math_number" id="bljme}^bqSl+@bHnevbR"><field name="NUM">128</field></shadow></value><value name="height"><shadow type="math_number" id=",kq+Xl)bhc?o`1yopXe$"><field name="NUM">64</field></shadow></value><next><block type="device_show_number" id="?kJfFZ]6Vb[)c,pwsCiG"><value name="number"><shadow type="math_number" id="J39:HgV;`kRpUkSX^Fw!"><field name="NUM">3</field></shadow></value><next><block type="device_pause" id="}vsnZHCTc2jQR,G!Nd}f"><value name="pause"><shadow type="timePicker" id="4]K[mVvt,+G4?$`I/x?:"><field name="ms">2000</field></shadow></value><next><block type="controls_if" id="c%]EOBz*@4A9!v8[F:E+"><value name="IF0"><shadow type="logic_boolean" id="V18hKpx0??eFn0o%5Z5g"><field name="BOOL">TRUE</field></shadow><block type="ESP8266_IoT_isMqttBrokerConnected" id="64W3I_h=iwX}D$fk=FlC"></block></value><statement name="DO0"><block type="basic_show_icon" id="dvY,eG-.!CO.|Rz+fr]K"><field name="i">IconNames.Yes</field></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="G$d~NY4v+%R-?}sQx=zM" x="823" y="0"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="variables_set" id="b:+*uSL-}CYeD#@-X,;J"><field name="VAR" id="US2yG]X+:]ulWon=wkO5">light_level</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_analog_pin" id="w8?X:Q7`D)+xM,i4GTm6"><field name="name">AnalogPin.P1</field></block></value><next><block type="sendMQTT" id="r=QM!#YR,E^oO(t{ZB?f"><field name="qos">ESP8266_IoT.QosList.Qos1</field><value name="msg"><block type="variable_to_text" id="MphFenfTX5azNrMz1]H8"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="n2uTFLrLPs=.W=X:yMro"><field name="VAR" id="US2yG]X+:]ulWon=wkO5">light_level</field></block></value></block></value><value name="topic"><shadow type="text" id="DB,{M.J4rDfaRR-E}XS."><field name="TEXT">myhome/null/bedroom-light</field></shadow></value><next><block type="OLED_clear" id="#Kh^9y#O=Qs@?{3p@!r."><next><block type="OLED_writeString" id="k5WD/D~EsP4G^fSOGquR"><value name="str"><shadow type="text" id="{#xxXh_/0j20A_(UFDHK"><field name="TEXT">Light Level: </field></shadow></value><next><block type="OLED_writeNumNewLine" id="oQnmEsq^q.AVin@%=g@~"><value name="n"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="RaeOF?:X7_28EK(e_)3?"><field name="VAR" id="US2yG]X+:]ulWon=wkO5">light_level</field></block></value></block></next></block></next></block></next></block></next></block></statement></block></xml>